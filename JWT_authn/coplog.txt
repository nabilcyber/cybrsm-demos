<14>1 2022-02-08T17:10:17.000+00:00 68c9c17919b1 conjur-possum 11671 - [meta sequenceId="56"] [origin=127.0.0.1] [request_id=6a6b32a6-e34f-435c-93d7-1fa8e75eaa4b] [tid=11695] Started GET "/authenticators" for 127.0.0.1 at 2022-02-08 17:10:17 +0000
<14>1 2022-02-08T17:10:17.000+00:00 68c9c17919b1 conjur-possum 11671 - [meta sequenceId="57"] [origin=127.0.0.1] [request_id=6a6b32a6-e34f-435c-93d7-1fa8e75eaa4b] [tid=11695] Processing by AuthenticateController#index as */*
<14>1 2022-02-08T17:10:17.000+00:00 68c9c17919b1 conjur-possum 11671 - [meta sequenceId="58"] [origin=127.0.0.1] [request_id=6a6b32a6-e34f-435c-93d7-1fa8e75eaa4b] [tid=11695]   Parameters: {:controller=>"authenticate", :action=>"index"}
<14>1 2022-02-08T17:10:17.000+00:00 68c9c17919b1 conjur-possum 11671 - [meta sequenceId="59"] [origin=127.0.0.1] [request_id=6a6b32a6-e34f-435c-93d7-1fa8e75eaa4b] [tid=11695] Completed 200 OK in 8ms (Views: 0.5ms)
<134>1 2022-02-08T17:10:17.000+00:00 68c9c17919b1 evoke-info - - [meta sequenceId="60"] 127.0.0.1 - - [08/Feb/2022:17:10:17 +0000] "GET / HTTP/1.1" 200 1681 0.0406
<13>1 2022-02-08T17:10:17.576+00:00 68c9c17919b1 nginx - - [meta sequenceId="61"] 127.0.0.1 "-" "GET /authenticators HTTP/1.1" 200 255 "-" "Ruby" 0.015 0.016
<13>1 2022-02-08T17:10:17.576+00:00 68c9c17919b1 nginx - - [meta sequenceId="62"] 127.0.0.1 "-" "GET /info HTTP/1.1" 200 1681 "-" "curl/7.58.0" 0.042 0.044
<14>1 2022-02-08T17:10:41.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="63"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] Started POST "/authn-jwt/b449db5e-a80a-48eb-a4c2-3c88bb78353b/dev/host%2F27858f30-bfa8-4aa3-afb5-c57208035117/authenticate" for 172.17.0.1 at 2022-02-08 17:10:41 +0000
<14>1 2022-02-08T17:10:41.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="64"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] Processing by AuthenticateController#authenticate_jwt as */*
<14>1 2022-02-08T17:10:41.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="65"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701]   Parameters: {:controller=>"authenticate", :action=>"authenticate_jwt", :service_id=>"b449db5e-a80a-48eb-a4c2-3c88bb78353b", :account=>"dev", :id=>"host/27858f30-bfa8-4aa3-afb5-c57208035117"}
<14>1 2022-02-08T17:10:41.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="66"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] CONJ00057I Started authentication flow for authenticator 'authn-jwt'
<14>1 2022-02-08T17:10:41.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="67"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] CONJ00076I Selected signing key interface: 'jwks-uri'
<14>1 2022-02-08T17:10:41.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="68"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] CONJ00072I Fetching JWKS from 'https://login.microsoftonline.com/common/discovery/keys'...
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="69"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] CONJ00054I "issuer" value will be taken from 'issuer'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="70"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] CONJ00048I Authentication Error: #<Errors::Conjur::RequiredSecretMissing: CONJ00037E Missing value for resource: dev:variable:conjur/authn-jwt/b449db5e-a80a-48eb-a4c2-3c88bb78353b/issuer>
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="71"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/conjur/fetch_required_secrets.rb:25:in `block in validate_secrets_exist'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="72"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/conjur/fetch_required_secrets.rb:24:in `each'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="73"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/conjur/fetch_required_secrets.rb:24:in `validate_secrets_exist'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="74"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/conjur/fetch_required_secrets.rb:11:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="75"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="76"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/util/fetch_authenticator_secrets.rb:23:in `required_secrets'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="77"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/util/fetch_authenticator_secrets.rb:16:in `block in call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="78"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/util/fetch_authenticator_secrets.rb:14:in `each'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="79"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/util/fetch_authenticator_secrets.rb:14:in `each_with_object'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="80"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/util/fetch_authenticator_secrets.rb:14:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="81"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="82"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_issuer_value.rb:75:in `issuer_secret'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="83"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_issuer_value.rb:71:in `issuer_secret_value'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="84"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_issuer_value.rb:43:in `fetch_issuer_value'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="85"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_issuer_value.rb:23:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="86"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="87"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:82:in `claim_value'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="88"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:70:in `add_to_jwt_claims_list'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="89"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:60:in `block in add_optional_claims_to_jwt_claims_list'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="90"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:57:in `each'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="91"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:57:in `add_optional_claims_to_jwt_claims_list'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="92"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:40:in `fetch_jwt_claims_to_validate'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="93"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/fetch_jwt_claims_to_validate.rb:22:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="94"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="95"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/validate_and_decode_token.rb:107:in `claims_to_validate'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="96"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/validate_and_decode_token.rb:103:in `fetch_jwt_claims_to_validate'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="97"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/validate_and_decode/validate_and_decode_token.rb:35:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="98"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="99"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/vendor_configurations/configuration_jwt_generic_vendor.rb:66:in `validate_and_decode_token'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="100"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/authenticator.rb:41:in `validate_and_decode_token'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="101"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/authenticator.rb:24:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="102"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="103"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/orchestrate_authentication.rb:33:in `authenticate_jwt'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="104"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/domain/authentication/authn_jwt/orchestrate_authentication.rb:18:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="105"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] (eval):7:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="106"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/controllers/authenticate_controller.rb:94:in `authenticate_jwt'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="107"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/app/controllers/application_controller.rb:79:in `run_with_transaction'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="108"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/lib/rack/remember_uuid.rb:12:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="109"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/lib/rack/remove_request_parameters.rb:26:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="110"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] /opt/conjur/possum/lib/rack/default_content_type.rb:68:in `call'
<14>1 2022-02-08T17:10:49.000+00:00 68c9c17919b1 conjur-possum 11667 - [meta sequenceId="111"] [origin=172.17.0.1] [request_id=5ec285f8-c189-4a53-a4a0-4326e0fe0429] [tid=11701] Completed 401 Unauthorized in 8082ms
<13>1 2022-02-08T17:10:50.608+00:00 68c9c17919b1 nginx - - [meta sequenceId="112"] 172.17.0.1 "-" "POST /authn-jwt/b449db5e-a80a-48eb-a4c2-3c88bb78353b/dev/host%2F27858f30-bfa8-4aa3-afb5-c57208035117/authenticate HTTP/1.1" 401 30 "-" "curl/7.68.0" 8.093 8.092
 
